<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Zain Fashion Center</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background-color: #fdfdfd; }
    .product-card { transition: transform .2s; }
    .product-card:hover { transform: scale(1.03); }
    .logo { max-height: 40px; }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm">
    <div class="container">
      <a class="navbar-brand" href="#">
        <img src="https://via.placeholder.com/150x50?text=Zain+Fashion+Center" alt="Zain Fashion Center Logo" class="logo">
      </a>
      <button class="btn btn-outline-primary" onclick="showCart()">Cart (<span id="cart-count">0</span>)</button>
    </div>
  </nav>

  <!-- Hero Section -->
  <header class="bg-dark text-white text-center py-5 mb-4">
    <div class="container">
      <h1 class="fw-bold">Welcome to Zain Fashion Center</h1>
      <p>Beauty & Style for Every Woman</p>
    </div>
  </header>

  <!-- Categories -->
  <div class="container mb-5">
    <h2 class="mb-4">Our Collections</h2>
    <ul class="nav nav-tabs" id="categoryTabs"></ul>
    <div id="productGrid" class="row g-4 mt-3"></div>
  </div>

  <!-- Cart Modal -->
  <div class="modal fade" id="cartModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Your Cart</h5>
          <button class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body" id="cartItems"></div>
        <div class="modal-footer">
          <button class="btn btn-secondary" data-bs-dismiss="modal">Continue Shopping</button>
          <button class="btn btn-success" onclick="checkout()">Proceed to Checkout</button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Sample products by category
    const PRODUCTS = {
      Dresses: [
        {id:1, title:'Floral Summer Dress', price:40, img:'https://source.unsplash.com/300x400/?dress,fashion'},
        {id:2, title:'Elegant Evening Gown', price:120, img:'https://source.unsplash.com/300x400/?evening,dress'},
        // ...add 8 more
      ],
      Shoes: [
        {id:11, title:'Red High Heels', price:60, img:'https://source.unsplash.com/300x400/?heels,shoes'},
        {id:12, title:'White Sneakers', price:45, img:'https://source.unsplash.com/300x400/?sneakers,shoes'},
        // ...add 8 more
      ],
      Accessories: [
        {id:21, title:'Gold Necklace', price:80, img:'https://source.unsplash.com/300x400/?necklace,jewelry'},
        {id:22, title:'Leather Handbag', price:90, img:'https://source.unsplash.com/300x400/?handbag,fashion'},
        // ...add 8 more
      ],
      Watches: [
        {id:31, title:'Luxury Gold Watch', price:150, img:'https://source.unsplash.com/300x400/?watch,luxury'},
        {id:32, title:'Casual Leather Watch', price:70, img:'https://source.unsplash.com/300x400/?watch,leather'},
        // ...add 8 more
      ],
      'Beauty Products': [
        {id:41, title:'Lipstick Set', price:25, img:'https://source.unsplash.com/300x400/?lipstick,makeup'},
        {id:42, title:'Skincare Kit', price:55, img:'https://source.unsplash.com/300x400/?skincare,beauty'},
        // ...add 8 more
      ]
    };

    let cart = JSON.parse(localStorage.getItem('cart') || '[]');

    function money(n){ return new Intl.NumberFormat('en-US',{style:'currency',currency:'USD'}).format(n); }

    // Build category tabs
    const categoryTabs = document.getElementById('categoryTabs');
    Object.keys(PRODUCTS).forEach((cat,i) => {
      categoryTabs.innerHTML += `<li class='nav-item'><button class='nav-link ${i==0?'active':''}' data-bs-toggle='tab' onclick='showProducts(\"${cat}\")'>${cat}</button></li>`;
    });
    showProducts(Object.keys(PRODUCTS)[0]);

    // Show products
    function showProducts(cat){
      const grid = document.getElementById('productGrid');
      grid.innerHTML = '';
      PRODUCTS[cat].forEach(p=>{
        grid.innerHTML += `
          <div class='col-md-3'>
            <div class='card product-card h-100'>
              <img src='${p.img}' class='card-img-top'>
              <div class='card-body d-flex flex-column'>
                <h6>${p.title}</h6>
                <p class='fw-bold'>${money(p.price)}</p>
                <button class='btn btn-sm btn-primary mt-auto' onclick='addToCart(${JSON.stringify(p)})'>Add to Cart</button>
              </div>
            </div>
          </div>`;
      });
    }

    function addToCart(p){
      const existing = cart.find(i=>i.id===p.id);
      if(existing){ existing.qty++; } else { cart.push({...p, qty:1}); }
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartCount();
    }

    function updateCartCount(){
      document.getElementById('cart-count').innerText = cart.reduce((s,i)=>s+i.qty,0);
    }

    function showCart(){
      const cartModal = new bootstrap.Modal(document.getElementById('cartModal'));
      const container = document.getElementById('cartItems');
      if(cart.length===0){ container.innerHTML = '<p>Your cart is empty.</p>'; }
      else{
        let html = '<ul class=\"list-group mb-3\">';
        cart.forEach((item, idx)=>{
          html += `<li class='list-group-item d-flex justify-content-between align-items-center'>
                    ${item.title} x${item.qty}
                    <span>${money(item.price*item.qty)}</span>
                  </li>`;
        });
        html += '</ul>';
        container.innerHTML = html;
      }
      cartModal.show();
    }

    function checkout(){
      if(cart.length===0){ alert('Cart is empty!'); return; }
      // For now, just store payment method as COD
      localStorage.setItem('paymentMethod', 'Cash on Delivery');
      localStorage.setItem('cart', JSON.stringify(cart));
      window.location.href = 'confirmation.html';
    }

    updateCartCount();
  </script>
</body>
</html>
